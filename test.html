<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.js">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <title>Document</title>

    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #DBED64;
        }

        *,
        *:before,
        *:after {
            box-sizing: border-box;
        }

        #container {
            height: 50%;
            width: 50%;

        }

        #product-svg {
            position: relative;
            z-index: 2;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: 50%;
            mix-blend-mode: normal;
        }

        #product-shape,
        #product-shape2,
        #product-shape3,
        #product-shape4 {
            fill: #DBED64;
        }

        .butt1 {
            position: fixed;
            bottom: 4em;
            right: 4em;
            z-index: 3;
            padding: 1em;
            box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.5);
            border: 0;
            border-radius: 5px;
            cursor: pointer;
        }

        .butt2 {
            position: fixed;
            bottom: 4em;
            right: 20em;
            z-index: 3;
            padding: 1em;
            box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.5);
            border: 0;
            border-radius: 5px;
            cursor: pointer;
        }

        #background-image{
            background: url(shoe_pics/chamois.jpg);
        }
    </style>
</head>

<body>
    <div id="container">

        <svg id="product-svg" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2118 1206">
            <path id="product-shape"
                d="M1165 284C1205.88 306.758 1241.22 342.22 1274 375C1283.36 384.362 1292.08 394.226 1301 404C1303.3 406.517 1306.96 412.712 1310.83 412.654C1315.68 412.582 1320.36 402.468 1322.67 399C1332.24 384.618 1345.39 366.422 1348 349C1338.26 341.973 1344.36 331.692 1337.68 324.899C1329.7 316.784 1318.2 310.564 1309 303.849C1291.95 291.414 1275.11 278.35 1259 264.725C1250.34 257.403 1237.23 241.198 1226 238.669C1220.46 237.421 1212.5 243.486 1208 246.204C1193.54 254.934 1172.23 268.222 1165 284z" />
            <path id="product-shape2"
                d="M1751 299C1782.65 316.618 1811.39 342.634 1837.17 367.714C1888.7 417.853 1931.71 472.317 1971.67 532.001C1991.28 561.295 2010.78 590.667 2030.33 620C2037.75 631.13 2045.98 650.44 2057 658C2056.64 638.29 2051.29 618.402 2048.08 599C2041.66 560.261 2034.62 521.68 2028.09 483C2025.26 466.273 2022.11 449.647 2018.8 433C2016.51 421.473 2014.96 409.856 2008.11 400.004C1986.65 369.137 1943.9 353.403 1913.84 332.344C1889.85 315.531 1866.66 297.289 1844.13 278.579C1835.71 271.586 1823.33 256.237 1812.71 253.335C1806.94 251.758 1799.64 257.774 1795.08 260.565C1780.98 269.207 1757.24 283.232 1751 299z" />
            <path id="product-shape3"
                d="M1339 414C1332.93 414.956 1323.45 425.37 1324.54 431.999C1326.18 441.96 1333.65 437.688 1335.57 431C1336.24 428.685 1336.79 426.337 1337.37 424C1338.21 420.648 1338.85 417.453 1339 414z" />
            <path id="product-shape4" d="M1336 415C1331.23 422.234 1319.92 432.092 1332 438L1338 415L1336 415z" />

            <path id="product-shape5"
                d="M1039 270C1053.39 275.398 1068.07 276.361 1082 283.782C1086.37 286.112 1093.92 290.313 1094.17 296C1094.47 302.879 1085.16 309.134 1079 308.786C1061.17 307.779 1040.26 298.852 1023 294L1011 319C1025.1 327.034 1045.69 339.733 1055.21 353.004C1062.13 362.645 1049.24 372.355 1039.42 370.922C1024.45 368.738 1012.31 348.631 999 342C995.989 349.338 984.998 366.18 988.272 374C990.748 379.913 998.246 384.135 1003 388.081C1015.11 398.136 1027.58 407.75 1040 417.424C1079.62 448.292 1117.39 476.831 1148.35 517C1160.66 532.965 1171.83 549.723 1182.2 567C1185.29 572.157 1189.87 584.737 1196.04 586.582C1201.47 588.204 1213.58 580.807 1219 579C1224.24 577.252 1232.13 576.667 1236.69 573.686C1240.01 571.516 1240.18 566.313 1243.21 563.529C1258.17 549.784 1275.08 535.417 1292 524C1287.11 517.932 1281.37 513.583 1278.47 506C1271.52 487.841 1280.13 465.128 1288.25 449C1292.14 441.264 1297.14 434.14 1302.02 427C1304 424.107 1307.17 420.783 1305.95 417C1303.84 410.425 1295.67 403.982 1291.09 399C1280.05 386.997 1269.24 374.509 1257 363.714C1214.54 326.26 1173.85 288.017 1121 265.281C1103.4 257.71 1085.3 252 1066 252C1061.12 252 1053.5 250.589 1049.1 253.028C1043.98 255.87 1041.15 264.845 1039 270z" />
            <path id="product-shape6"
                d="M1625 287C1640.13 286.248 1658.1 292.734 1670.58 301.04C1680.01 307.318 1681.89 316.903 1670.17 322.552C1664.01 325.519 1656.02 322.262 1650 320.389C1636.58 316.21 1623.01 311.427 1609 310L1597 334C1610.74 343.528 1631.63 355.024 1641.16 368.964C1647.5 378.244 1632.03 387.766 1623.67 385.871C1608.49 382.434 1599.48 363.353 1585 358C1581.89 365.43 1571.39 380.831 1574.33 388.996C1576.26 394.358 1583.75 398.64 1588.01 402.119C1599.55 411.544 1611.14 420.861 1622.98 429.908C1662.46 460.087 1700.29 488.87 1731.48 528.08C1797.1 610.563 1837.62 718.672 1841.59 824C1843.09 863.511 1841.54 905.429 1828 943C1836.61 944.866 1846.24 942.539 1855 942.325C1878.01 941.761 1900.99 938.8 1924 937.424C1959.69 935.29 1995.48 931.632 2031 927.59C2040.79 926.476 2060.89 926.926 2068.2 919.49C2076.35 911.203 2073 893.431 2073 883C2073 850.537 2072.91 818.421 2071.24 786C2070.06 762.938 2067.34 740.024 2065.49 717C2064.39 703.386 2064.47 685.896 2059.93 673C2056.09 662.122 2046.38 651.571 2040 642C2026.28 621.413 2012.72 600.711 1999 580.127C1946.75 501.751 1894.85 426.267 1825.71 361.615C1787.02 325.432 1737.16 285.537 1684.87 271.702C1672.47 268.42 1660.79 266.849 1648 266.996C1644.06 267.042 1637.93 265.858 1634.49 268.179C1629.58 271.497 1625.99 281.426 1625 287z" />
            <path id="product-shape7"
                d="M1321.05 437.346C1317.24 438.435 1314.36 444.89 1312.43 448C1305.34 459.368 1301.1 470.777 1298.92 484C1298.37 487.331 1295.84 501.994 1303.01 500.248C1307.39 499.185 1310.31 492.591 1312.22 489C1318.61 476.974 1325.06 463.297 1328.24 450C1329.14 446.196 1326.98 435.654 1321.05 437.346z" />

            <path id="product-shape8"
                d="M2014 399L2015.67 330L2028 292C2015.6 294.953 2000.74 291.705 1988 291.946C1983.84 292.025 1979 289.981 1975.09 292.025C1962.12 298.799 1955.28 324.763 1954.67 338C1954.46 342.477 1952.74 348.503 1955.32 352.586C1957.8 356.519 1963.87 359.001 1967.7 361.384C1976.02 366.548 1984.54 372.089 1992.04 378.379C1999.55 384.675 2005.32 394.458 2014 399z" />
            <path id="product-shape9"
                d="M2033 477C2039.65 468.969 2043 457.037 2046.83 447.414C2057.71 420.044 2069.22 386.799 2067.96 357C2067.46 345.062 2066.17 332.72 2063.77 321C2062.61 315.317 2059.36 309.726 2059 304C2054.56 299.751 2051.38 293.711 2045 291.989C2027.48 287.264 2020.83 321.194 2019.66 333C2015.08 379.273 2016.41 433.032 2033 477z" />
        </svg>
        <img id="background-image" src="public/images/shoe1/shoe1.png" alt="">
    </div>

    <input class="jscolor {onFineChange:'changeColor(this)'} butt1" value="DBED64">
    <input class="jscolor {onFineChange:'changeColor2(this)'} butt2" value="DBED64">
</body>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.js'></script>

<script>
    //const part1 = ['<path id="product-shape" d="M1165 284C1205.88 306.758 1241.22 342.22 1274 375C1283.36 384.362 1292.08 394.226 1301 404C1303.3 406.517 1306.96 412.712 1310.83 412.654C1315.68 412.582 1320.36 402.468 1322.67 399C1332.24 384.618 1345.39 366.422 1348 349C1338.26 341.973 1344.36 331.692 1337.68 324.899C1329.7 316.784 1318.2 310.564 1309 303.849C1291.95 291.414 1275.11 278.35 1259 264.725C1250.34 257.403 1237.23 241.198 1226 238.669C1220.46 237.421 1212.5 243.486 1208 246.204C1193.54 254.934 1172.23 268.222 1165 284z" />']
    //$('#product-svg').html(part1[0]);
    // Reference the color shape that was drawn over the image
    const overlay = document.getElementById("product-shape");
    const overlay2 = document.getElementById("product-shape2");
    const overlay3 = document.getElementById("product-shape3");
    const overlay4 = document.getElementById("product-shape4");

    const overlay5 = document.getElementById("product-shape5");
    const overlay6 = document.getElementById("product-shape6");
    const overlay7 = document.getElementById("product-shape7");

    function changeColor(picker) {
        overlay.style.fill = picker.toHEXString();
        overlay2.style.fill = picker.toHEXString();
        overlay3.style.fill = picker.toHEXString();
        overlay4.style.fill = picker.toHEXString();
    }

    function changeColor2(picker) {
        overlay5.style.fill = picker.toHEXString();
        overlay6.style.fill = picker.toHEXString();
        overlay7.style.fill = picker.toHEXString();
    }

    // Thats it!

    // BONUS

    // This function simulates background-size: cover for the SVG inside its parent div, so it would likely be helpful for people migrating from using images to using an SVG locked onto with a photo.

    // Reference the SVG
    const svg = document.getElementById("product-svg");

    // Reference the image
    const img = document.getElementById("background-image");

    // Place the SVG inside a parent div, reference it
    const container = document.getElementById("container");

    // (On resize)
    window.onresize = () => simulateCover(container, svg, img, 2118, 1206);

    // (On load)
    simulateCover(container, svg, img, 2118, 1206);

    // Pass the parent div, and the SVG (child)
    // Pass the image
    // x and y are the native dimensions of the image (1920, 1280 in our example)
    function simulateCover(parent, child, image, x, y) {
        let { width, height } = parent.getBoundingClientRect();
        let yPercentage = x / y;
        let xPercentage = y / x;
        console.log(x);
        // Set styles, these can be moved to CSS if need be
        parent.setAttribute("style", "position: relative; overflow: hidden;");

        child.setAttribute(
            "style",
            "display: block; position: relative; top: 50%; left: 50%; transform: translate(-50%, -50%)"
        );

        image.setAttribute(
            "style",
            "display: block; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)"
        );

        if (width < height * yPercentage) {
            child.style.width = height * yPercentage + "px";
            child.style.height = height + "px";

            image.style.width = height * yPercentage + "px";
            image.style.height = height + "px";

        } else {
            child.style.width = width + "px";
            child.style.height = width * xPercentage + "px";

            image.style.width = width + "px";
            image.style.height = width * xPercentage + "px";


        }
    }
</script>

</html>